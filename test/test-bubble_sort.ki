test "bubble_sort_dynamic array" {

    // let arr = array[i32]{ 4, 3, 1, 6, 7, 9, 5, 8, 0, 2 };
    let arr = Array[i32].new();
    arr.push(4);
    arr.push(3);
    arr.push(1);
    arr.push(6);
    arr.push(7);
    arr.push(9);
    arr.push(5);
    arr.push(8);
    arr.push(0);
    arr.push(2);

    let len = arr.length;
    let last = len - 1;
    while len > 0 {
        len--;
        let j : uxx = 0;
        let last_ = last;
        while j < last_ {
            let left = arr.get(j) !! break;;
            let right = arr.get(j + 1) !! break;;
            if left > right {
                arr.set(j, right)!;
                arr.set(j + 1, left)!;
            }
            j++;
        }
        last--;
    }

    @expect (arr.get(0) !? -1) == 0;
    @expect (arr.get(1) !? -1) == 1;
    @expect (arr.get(2) !? -1) == 2;
    @expect (arr.get(3) !? -1) == 3;
    @expect (arr.get(4) !? -1) == 4;
    @expect (arr.get(5) !? -1) == 5;
    @expect (arr.get(6) !? -1) == 6;
    @expect (arr.get(7) !? -1) == 7;
    @expect (arr.get(8) !? -1) == 8;
    @expect (arr.get(9) !? -1) == 9;
}