
header "pthread" as pt;

use mem;

class Mutex async {

	~mutex: ptr;

	static fn new() CLASS { 
		let mut = mem:calloc(pt.CONST.mutex_size);
		pt.pthread_mutex_init(mut, null);
		return CLASS { mutex: mut };
	}

	fn lock() void {
		pt.pthread_mutex_lock(this.mutex);
	}

	fn unlock() void {
		pt.pthread_mutex_unlock(this.mutex);
	}

}
